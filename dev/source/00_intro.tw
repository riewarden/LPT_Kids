
:: Start

!Welcome to //The Leeds Piano Trail!//<nobr>
<<script>> /* This handles the redirection, by putting the search query into varDestination */
 window.grabQuery = function getParameter(parameterName){
    let parameters = new URLSearchParams(window.location.search);
    return parameters.get(parameterName);
    };
//for debugging grabQuery: 
//window.alert(grabQuery("location"));

State.variables.varDestination = grabQuery("location");

//if (State.variables.varDestination == null) {
//State.variables.varDestination = ""}
<</script>>/*varDestination: <<print $varDestination>>*/</nobr>
From here, you can access:
* ''An information page'' about the artwork at this location, the artists who contributed to it, and upcoming events happening at this place on the Trail. 
* ''//Impromptunes!//'' Play through an interactive piano tutorial, based on this location.
Tap the arrow at the top to access options for this app. From there, you can report technical issues, share your experience on Twitter, and restart the app. 

There are ten different //Impromptunes// tutorials, one for every location on The Leeds Piano Trail. Find and play them all!

Always close this tab before scanning a new QR code!
/*Set sculpLink, the variable for the link to the location-based sculpture, to a default value, so it doesn't throw a weird exception */
<<nobr>><<set $sculpLink to "">>
/*Check to see if $varDestination holds a valid query*/
<<if ["mgChurch", "mgGrave", "uniLeeds" , "vicGard" , "manGard" , "pHouse" , "vicQuart" , "kirkMark" , "trinShop" , "trainStat"].includes($varDestination)>>
/*Set the sculpture link to the link which corresponds to the location of the attendee*/
    <<if $varDestination is "mgChurch">>
    <<set $sculpLink to "https://pianotrail.welcometoleeds.co.uk/venue/merrion-street-gardens/">>
    <<elseif $varDestination is "mgGrave">>
    <<set $sculpLink to "https://pianotrail.welcometoleeds.co.uk/venue/merrion-street-gardens/">>
    <<elseif $varDestination is "uniLeeds">>
    <<set $sculpLink to "https://pianotrail.welcometoleeds.co.uk/venue/university-of-leeds/">>
    <<elseif $varDestination is "vicGard">>
    <<set $sculpLink to "https://pianotrail.welcometoleeds.co.uk/venue/cookridge-street/">>
    <<elseif $varDestination is "manGard">>
    <<set $sculpLink to "https://pianotrail.welcometoleeds.co.uk/venue/mandela-gardens/">>
    <<elseif $varDestination is "pHouse">>
    <<set $sculpLink to "https://pianotrail.welcometoleeds.co.uk/venue/leeds-playhouse-tiered-gardens/">>
    <<elseif $varDestination is "vicQuart">>
    <<set $sculpLink to "https://pianotrail.welcometoleeds.co.uk/venue/victoria-leeds/">>
    <<elseif $varDestination is "kirkMark">>
    <<set $sculpLink to "https://pianotrail.welcometoleeds.co.uk/venue/kirkgate-market/">>
    <<elseif $varDestination is "trinShop">>
    <<set $sculpLink to "https://pianotrail.welcometoleeds.co.uk/venue/leeds-trinity/">>
    <<elseif $varDestination is "trainStat">>
    <<set $sculpLink to "https://pianotrail.welcometoleeds.co.uk/venue/leeds-train-station/">>
    <</if>>
    [[Tap here to access the information page.|$sculpLink]]
/*If, for some reason, sculpLink has no valid value (testing, and use after the festival) make the link go to Leeds Piano Trail's main website. I've done it in this inefficient way because for some reason the VSCode live server has a tantrum if the variable isn't set to anything, so I have to put error cases in these weird else statements*/
<<else>>
[[Tap here to access the information page.|https://www.leedspiano.com/piano-trail-2021/]]
<</if>><</nobr>>
<<if ["mgChurch", "mgGrave", "uniLeeds" , "vicGard" , "manGard" , "pHouse" , "vicQuart" , "kirkMark" , "trinShop" , "trainStat"].includes($varDestination)>>
 [[Impromptunes: Tap here to play piano!|$varDestination]]
<<else>>
[[Impromptunes: Tap here to play the piano!|Contents]]
<</if>>
